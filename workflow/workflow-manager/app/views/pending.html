<md-toolbar>
	<div class="md-toolbar-tools">

		<md-button id="menu-button" class="md-icon-button" aria-label="Menu" ng-click="toggle()" hide-gt-md>
			<md-icon md-svg-icon="img/icons/menu.svg"></md-icon>
		</md-button>

		<md-icon md-svg-icon="img/icons/wf-logo.svg" style="height: 48px; width: 48px"></md-icon>

		<div hide-sm layout-padding class="non-printing-heading">
			<h1 class="md-title application-title">workflow::manager</h1>
			<h2 class="md-subhead page-title">{{'pendingTasks' | translate }}</h2>
		</div>

		<div class="print-heading">
			<h1 class="md-title application-title">Grnet Workflow</h1>
			<h2 class="md-subhead page-title">{{'pendingTasks' | translate }}</h2>
		</div>

		<span flex></span>

		<md-button class="md-icon-button" aria-label="Print" ng-click="print()" ng-if="filteredTasks.length > 0">
			<md-icon md-svg-icon="img/icons/print.svg"></md-icon>
		</md-button>

	</div>
</md-toolbar>

<div layout="row" layout-align="center start" flex class="warning-message" ng-if="filteredTasks === null || filteredTasks.length == 0">
	<md-card style="margin-left: 8px;">
		<md-card-content layout-align="center center">
			<md-icon md-svg-icon="img/icons/info.svg"></md-icon>
			<span>{{'noTasksFound' | translate }}</span>
		</md-card-content>
	</md-card>
</div>

<section layout="row" class="main-section" ng-if="filteredTasks.length > 0">

	<!-- Filtering options -->
	<div layout="column" flex="35" class="criteria-options" style="overflow: auto">
		<md-card style="margin-right: 0px">

			<md-subheader class="md-primary">{{ 'selectProcess' | translate }}</md-subheader>

			<md-divider style="padding-top:10px"></md-divider>
			
			<md-card-content>
				<md-radio-group ng-model="selectedWorkflow">
					<md-radio-button class="md-primary wf-selectAll" ng-click="selectAll()" ng-value="TRUE">{{'showAll' | translate }}</md-radio-button>
					<md-divider style="margin-bottom: 15px;"></md-divider>
					<md-radio-button ng-repeat="workflowName in workflowNames" ng-value="workflowName" class="md-primary" ng-click="selectionChanged(workflowName)">{{workflowName}}
					</md-radio-button>
				</md-radio-group>
			</md-card-content>
		</md-card>
	</div>

	<md-content flex class="transparent">

		<div class="criteria-printing-container">
			<p ng-if="selectedWorkflow">{{"selectedProcess" | translate}}: {{selectedWorkflow}}</p>
			<p ng-if="!selectedWorkflow">{{"selectedProcess" | translate}}: {{ 'showAll' | translate }}</p>
		</div>

		<div class="printing-divider"></div>

		<md-list flex style="padding-top:0">
			<md-card ng-repeat="task in filteredTasks">
				<md-list-item class="md-3-line" ng-click="goTo('/task/details/' + task.id)">
					<img ng-src="{{imagePath + task.icon}}" class="md-avatar" alt="{{task.name}}" />
					<div class="md-list-item-text" layout="column">
						<h3 style="line-height: 1.8em;">{{task.processInstance.title}}</h3>
						<p> {{task.name}}
							<span class="cardInline" ng-if="task.assignee">{{'worker' | translate }} : {{task.assignee}}</span>
						</p>

						<section layout="row">
							<p ng-if="task.dueDate">{{'dueTo'|translate}} : {{task.dueDate | date:'d/M/yyyy'}}</p>

							<div layout="row" flex>
								<md-icon style="margin-right: 0;" ng-class="taskDelay(task) < 1 ? (taskDelay(task) < 0 ? 'delayed' : 'nearDelayed') : 'removeIcon'"
								 md-svg-icon="img/icons/delayed-notification.svg">
								</md-icon>
							</div>
						</section>

					</div>
				</md-list-item>
			</md-card>
		</md-list>
	</md-content>
</section>