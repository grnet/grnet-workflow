<md-toolbar>
	<div class="md-toolbar-tools">
	
		<md-button id="menu-button" class="md-icon-button" aria-label="Menu" ng-click="toggle()" hide-gt-md>
			<md-icon md-svg-icon="img/icons/menu.svg"></md-icon>
		</md-button>
		
		<md-icon md-svg-icon="img/icons/wf-logo.svg" style="height: 48px; width: 48px"></md-icon>
		
		<div hide-sm layout-padding>
			<h1 class="md-title application-title">workflow::manager</h1>
			<h2 class="md-subhead page-title">{{'pendingTasks' | translate }}</h2>
		</div>
		
		<span flex></span>
	</div>
</md-toolbar>

<section layout="row" layout-padding>
	<section layout="column" style="margin-bottom: 32px" flex="25">
		<md-radio-group>
			<md-radio-button class="md-primary wf-selectAll" ng-click="selectAll()" ng-value="TRUE">{{'showAll' | translate }}</md-radio-button>
			
			<md-divider></md-divider>
			
			<md-radio-button ng-repeat="workflowName in workflowNames" ng-value="workflowName" 
				class="md-primary" ng-click="selectionChanged(workflowName)">{{workflowName}}
			</md-radio-button>
		</md-radio-group>
	</section>
	
	<md-list flex>
		<md-card ng-repeat="task in filteredTasks">
			<md-list-item class="md-2-line" ng-click="goTo('/task/details/' + task.id)">
				<img ng-src="{{imagePath + task.icon}}" class="md-avatar" alt="{{task.name}}" />
				<div class="md-list-item-text" layout="column">
					<h3>{{task.processInstance.title}}</h3>
					<p> {{task.name}}
						<span class="cardInline" ng-if="task.assignee">{{'worker' | translate }} : {{task.assignee}}</span>
						<span class="cardInline" ng-if="task.dueDate">{{'dueTo'|translate}} : {{task.dueDate | date:'d/M/yyyy'}}</span>
						
						<md-icon ng-class="taskDelay(task.dueDate) < 1 ? (taskDelay(task.dueDate) < 0 ? 'delayed' : 'nearDelayed') : 'removeIcon'"
							md-svg-icon="img/icons/delayed-notification.svg">
						</md-icon>
					</p>
				</div>
			</md-list-item>
		</md-card>
	</md-list>
</section>
