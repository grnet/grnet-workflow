<section layout="column">

    <md-toolbar>
        <div class="md-toolbar-tools">

            <md-button id="menu-button" class="md-icon-button" aria-label="Menu" ng-click="toggle()" hide-gt-md>
                <md-icon md-svg-icon="img/icons/menu.svg"></md-icon>
            </md-button>

            <md-icon md-svg-icon="img/icons/wf-logo.svg" style="height: 48px; width: 48px"></md-icon>

            <div hide-sm layout-padding>
            	<h1 class="md-title application-title">workflow::workspace</h1>
            	<h2 class="md-subhead page-title">{{ 'startNewProcess' | translate }}</h2>
            </div>
            
            <span flex></span>

<!--             <md-button class="md-icon-button" ng-click="showProcessSelectDialog($event)" aria-label="choose process" hide-gt-sm> -->
<!--                 <md-icon md-svg-icon="img/icons/filter.svg"></md-icon> -->
<!--             </md-button> -->
        </div>
    </md-toolbar>

	 <section layout="row">
        <!-- Process selection ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
        <section layout-align="start left" flex="33" hide-sm>
       		<section ng-repeat="(owner, processes) in groupProcesses">
       			<md-list>
		       		<md-subheader class="md-primary">{{owner}}</md-subheader>
					<md-list-item 
						ng-class="{ 'process-selected': process.id == selectedIndex, 'md-shadow-bottom-z-1': process.id == selectedIndex }"
						ng-repeat="process in processes" 
						ng-click="processSelectionChanged(process.id)"
						ng-value="process.id">{{process.name}}
					</md-list-item>
				</md-list>
			</section>
        </section>        

        <!-- Process to start ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
        <md-content layout-padding flex>
            <md-card ng-if="process !== null">
                <md-card-content>
                    <div class="card-header">
                        <md-icon md-svg-src="img/avatars/{{process.icon}}" class="md-avatar"
                                 style="width: 40px; height: 40px; vertical-align: middle"></md-icon>
                        <h2 class="md-title after-icon">{{process.name}}</h2>
                    </div>

                    <md-input-container class="md-block" ng-if="process.description">
                        <label for="processDescription">{{ 'description' | translate }}</label>
                        <textarea id="processDescription" ng-model="process.description" readonly></textarea>
                    </md-input-container>
                    
                     <md-input-container class="md-block" >
                        <label for="processVersion">{{ 'activeVersion' | translate }}</label>
                        <textarea id="processVersion" ng-model="activeVersion" readonly></textarea>
                    </md-input-container>
                    
                    <md-input-container class="md-block" >
                        <md-checkbox ng-model="process.assignBySupervisor" ng-disabled="true">{{ 'assignmentsByCoordinator' | translate }}</md-checkbox>
                    </md-input-container>
                    
                    <md-input-container class="md-block" >
		            	<md-icon ng-if="!isActive(process)" md-svg-src="img/icons/status/powered-off.svg" ng-style="{color: '#990000'}" class="s24" aria-label="Cake"></md-icon>
		                <h2 ng-if="!isActive(process)" class="md-title after-icon">{{ 'processNotActive' | translate }}</h2>
                    </md-input-container>
                    
                    <md-divider></md-divider>
                    <div class="md-actions" layout="row" layout-align="start center" layout-padding>
                    	<md-button class="md-primary md-raised" ng-click="showDiagram()">{{ 'diagram' | translate }}</md-button>
                    	<md-button class="md-accent md-raised" ng-disabled="!isActive(process)" ng-click="startProcess()">{{ 'start' | translate }}</md-button>
                	</div>
              </md-card-content>
            </md-card>
        </md-content>
    </section>
</section>
